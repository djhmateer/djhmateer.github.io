---
layout: post
title: Postgres 
description: 
menu: review
categories: postgres 
published: false 
comments: false     
sitemap: false
image: /assets/2020-02-03/40.jpg
---

<!-- ![alt text](/assets/2020-02-03/41.jpg "Choosing an image"){:width="600px"} -->

Lightweight compared to MSSQL
can install on my 1GB Linux VM

Explore - is it good enough for my application?

Licensing - not constrained by the MSSQL license

https://github.com/TardisBank/TardisBank uses it


use it with Docker locally?

## Front End

[Azure Data Studio](https://docs.microsoft.com/en-us/sql/azure-data-studio/extensions/postgres-extension?view=sql-server-ver15) with Postgres extension



## ASP.NET Core Configuration - Connection Strings

[ASP.NET Core Configuration](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1)

I would like separate db connection strings for:

- Dev
- Running tests locally and on build server
- Prod


Environment Variables

appsettings.Development.json

```yaml
# appsettings.json
{
  "AllowedHosts": "*"
}

# appsettings.Development.json
{
  "ConnectionStrings": {
    "Default": "Host=localhost;Username=alice;Password=letmein2;Database=postgrescookiedave"
  }
}

# appsettings.Production.json
{
  "ConnectionStrings": {
    "Default": "Host=localhost;Username=bob;Password=letmein3;Database=postgrescookiedave",
  }
}

```

then

```cs
public class DBTestModel : PageModel
{
    private readonly IConfiguration _configuration;
    public DBTestModel(IConfiguration configuration) => _configuration = configuration;

    public async Task OnGetAsync()
    {
        var connectionString = _configuration.GetConnectionString("Default");

        // call the service to call the db
        var employee = await Db.GetSingleEmployee(connectionString);
        // etc..

```

